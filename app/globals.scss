/*************************
    Layout
 *************************/

html {

    body {

        margin: 0;

        header,
        main,
        footer {
            padding: 2rem;
        }
        
        header {
            background-color: rgb( 230, 230, 230);
        }
        
        footer {
            background-color: rgb( 230, 230, 230);
        }

    }

}

/*************************
    Tailwind CSS
 *************************/

//@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
    --background: rgb(250, 250, 250);
    --foreground: #171717;
}

@media (prefers-color-scheme: dark) {
    :root {
        --background: #ededed;
        --foreground: #171717;
    }
}

body {
    color: var(--foreground);
    background: var(--background);
    font-family: Arial, Helvetica, sans-serif;
}

@layer utilities {
    .text-balance {
        text-wrap: balance;
    }
}

// Custom styles
body {
    @apply font-sans font-light leading-normal;
}

.container {
    @apply mx-auto;
}

h1.home {
    @apply sr-only;
}

#search {
    
    // Layout
    @apply flex items-end mb-6;

    .fieldgroup {
        &:nth-child(2) {
            @apply grow;
        }
    }

    // Form elements
    label {
        @apply block mb-1 pl-3;
    }
    .label {
        @apply sr-only;
    }
    input[type='search'],
    button[type='submit'] {
        @apply form-input;
    }
    select {
        @apply form-select;
    }
    input[type='search'],
    select,
    button[type='submit'] {
        @apply border-0 focus:ring-0;
    }
    input[type='search'] {
        @apply w-full pr-1;
    }
    button[type='submit'] {
        @apply w-10 h-10;
        .search-icon {
            @apply w-5 pt-0.5;
        }
    }

    @screen md {
        input[type='search'] {
            @apply pr-1 md:h-16;
        }
        select {
            @apply md:h-16;
        }
        button[type='submit'] {
            @apply w-16 h-16;
        }
    }

    // Typography
    label {
        @apply text-sm text-gray-600;
    }
    button[type='submit'] {
        position: relative;
        &:before {
            content: "";
            background-image: url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2024%2024%22%20stroke-width%3D%222%22%20stroke%3D%22black%22%3E%0A%20%20%20%20%3Cpath%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20d%3D%22m21%2021-5.197-5.197m0%200A7.5%207.5%200%201%200%205.196%205.196a7.5%207.5%200%200%200%2010.607%2010.607Z%22%2F%3E%0A%3C%2Fsvg%3E");
            background-size: 40%;
            background-repeat: no-repeat;
            background-position: 50% 50%;
            position: absolute;
            top: 0px;
            right: 0px;
            bottom: 0px;
            left: 0px;
            opacity: .4;
            transition: 0.3s;
        }
        &:hover {
            &:before {
                opacity: 1;
            }
        }
    }

}

@keyframes fadein {
    50% {opacity: 1;}
}

@keyframes fadeout {
    50% {opacity: 0.4;}
}

#search-results {

    // Layout
    ol, ul {
        list-style-type: none;
        padding-left: 0;
    }

    // Layout: Tiled
    ol.tile {

        @apply grid sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3 2xl:grid-cols-4 gap-4;

        &> li {
            @apply px-4 border-2 border-solid border-gray-200;
            border-color: rgb( 230, 230, 230);
        }

        .item {
            // Layout
            .label {
                @apply min-h-fit md:min-h-24;
            }
            .description {
                @apply min-h-fit md:min-h-36;
            }
        }

    }

    // Layout: List
    ol.list {

        &> li {
            @apply my-4 pt-4 px-4 border border-solid border-gray-200;
        }

        .item {

            @apply grid grid-cols-1 md:grid-cols-2 gap-x-6;

            h2 {
                @apply mt-0;
            }

           .statements {
                
                @apply grid grid-cols-1 md:grid-cols-2 gap-x-6;

                .property {

                    .name {
                        @apply mt-0;
                    }
                }
           }
            
        }

    }

    .item {
        //Typography
        .label {
            @apply font-semibold leading-snug;
        }
        .property {
            .name {
                @apply mb-0 text-sm font-medium;
            }
            .value {
                @apply mt-0;
                a {
                    @apply text-current decoration-gray-500 hover:text-pink-500 hover:decoration-pink-500;
                }
            }
        }
    }


}

/*************************
    Magic
 *************************/

// Sticky footer
html, body {
    height: 100%;
    &> footer {
        position: sticky;
        top: 100vh;
    }
}

// Search input cancel button
input[type="search"]::-webkit-search-cancel-button {
    -webkit-appearance: none;
    height: 1em;
    width: 1em;
    margin-left: 0.5em;
    border-radius: 50em;
    background: url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2024%2024%22%20stroke-width%3D%222.25%22%20stroke%3D%22black%22%3E%0A%20%20%3Cpath%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20d%3D%22M6%2018%2018%206M6%206l12%2012%22%20%2F%3E%0A%3C%2Fsvg%3E") no-repeat 50% 50%;
    background-size: contain;
    opacity: 0;
    pointer-events: none;
}

input[type="search"]:focus::-webkit-search-cancel-button {
    opacity: .8;
    pointer-events: all;
}

input[type="search"].dark::-webkit-search-cancel-button {
    filter: invert(1);
}

// Loader
// https://css-loaders.com/
.loader {

    margin-top: 30vh;
    text-align: center;

    .dots {
        display: inline-block;
        width: 60px;
        aspect-ratio: 2;
        --_g: no-repeat radial-gradient(circle closest-side,#f472b6 90%,#0000);
        background: 
            var(--_g) 0%   50%,
            var(--_g) 50%  50%,
            var(--_g) 100% 50%;
        background-size: calc(100%/3) 50%;
        animation: hoppindots 1s infinite linear;
    }

}

@keyframes hoppindots {
    20%{background-position:0%   0%, 50%  50%,100%  50%}
    40%{background-position:0% 100%, 50%   0%,100%  50%}
    60%{background-position:0%  50%, 50% 100%,100%   0%}
    80%{background-position:0%  50%, 50%  50%,100% 100%}
}